<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Internal sorting</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="madalgo-doxygen.css" rel="stylesheet" type="text/css"/>
<link href="printstyle.css" rel="stylesheet" type="text/css" media="print" />
</head>
<body>
<div id="top">
<div id="titlearea">
<h1 id="projectname">TPIE</h1>
<span class="version"><a href="//github.com/thomasmoelhave/tpie/tree/4739728">4739728</a></span>
</div>
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('sorting_internal.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Internal sorting </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Internal memory sorting is implemented in <a class="el" href="parallel__sort_8h.html">parallel_sort.h</a> as a parallel quick sort with a sequential partition step. The implementation uses the TPIE job manager, implemented in <a class="el" href="job_8h.html">job.h</a> and job.cpp.</p>
<p>Like std::sort, the input to parallel sorting is given as two forward iterators, <code>begin</code> and <code>end</code>. It is then up to the implementation to spawn as many quick sort jobs as needed. If the input is sufficiently small, <code>std::sort</code> is used directly. Otherwise, the input is repeatedly partitioned (using a sequential partition), and a new job is spawned on the smaller half of the result from the partition. When the job size is sufficiently small, <code>std::sort</code> is used.</p>
<p>Example <code>sorting.cpp:</code> </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="tpie_8h.html">tpie/tpie.h</a>&gt;</span> <span class="comment">// for tpie::tpie_init</span></div>
<div class="line"><span class="preprocessor">#include &lt;random&gt;</span> <span class="comment">// for std::mt19937</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span> <span class="comment">// for std::vector</span></div>
<div class="line"><span class="preprocessor">#include &lt;algorithm&gt;</span> <span class="comment">// for std::generate</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="parallel__sort_8h.html">tpie/parallel_sort.h</a>&gt;</span> <span class="comment">// for tpie::parallel_sort</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <a class="code" href="namespacetpie.html#a8086afebcb2cbd02fd7c41a1bfcf4925">tpie::tpie_init</a>();</div>
<div class="line">    std::mt19937 rng;</div>
<div class="line">    std::vector&lt;int&gt; numbers(1 &lt;&lt; 29);</div>
<div class="line">    std::generate(numbers.begin(), numbers.end(), rng);</div>
<div class="line">    <a class="code" href="namespacetpie.html#a8dd61ba80873cd53c523853f65d11e8b">tpie::parallel_sort</a>(numbers.begin(), numbers.end(), std::less&lt;int&gt;());</div>
<div class="line">    <a class="code" href="namespacetpie.html#acbb913e5f9654a6f0cd7cb226c37bcc0">tpie::tpie_finish</a>();</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Place in your <code>tpie</code> project folder, and on Linux, compile with: </p><div class="fragment"><div class="line">$ g++ -I. -Ibuild -c sorting.cpp -Wall -Wextra -O3</div>
<div class="line">$ g++ sorting.o -o sorting build/<a class="code" href="namespacetpie.html">tpie</a>/libtpie.a</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="anamespacetpie_html_a8dd61ba80873cd53c523853f65d11e8b"><div class="ttname"><a href="namespacetpie.html#a8dd61ba80873cd53c523853f65d11e8b">tpie::parallel_sort</a></div><div class="ttdeci">void parallel_sort(iterator_type a, iterator_type b, typename tpie::progress_types&lt; Progress &gt;::base &amp;pi, comp_type comp=std::less&lt; typename boost::iterator_value&lt; iterator_type &gt;::type &gt;())</div><div class="ttdoc">Sort items in the range [a,b) using a parallel quick sort.</div><div class="ttdef"><b>Definition:</b> <a href="parallel__sort_8h_source.html#l00294">parallel_sort.h:294</a></div></div>
<div class="ttc" id="anamespacetpie_html_a8086afebcb2cbd02fd7c41a1bfcf4925"><div class="ttname"><a href="namespacetpie.html#a8086afebcb2cbd02fd7c41a1bfcf4925">tpie::tpie_init</a></div><div class="ttdeci">TPIE_EXPORT void tpie_init(flags&lt; subsystem &gt; subsystems=ALL)</div><div class="ttdoc">Initialize the given subsystems of TPIE.</div></div>
<div class="ttc" id="aparallel__sort_8h_html"><div class="ttname"><a href="parallel__sort_8h.html">parallel_sort.h</a></div></div>
<div class="ttc" id="atpie_8h_html"><div class="ttname"><a href="tpie_8h.html">tpie.h</a></div></div>
<div class="ttc" id="anamespacetpie_html_acbb913e5f9654a6f0cd7cb226c37bcc0"><div class="ttname"><a href="namespacetpie.html#acbb913e5f9654a6f0cd7cb226c37bcc0">tpie::tpie_finish</a></div><div class="ttdeci">TPIE_EXPORT void tpie_finish(flags&lt; subsystem &gt; subsystems=ALL)</div><div class="ttdoc">Deinitialize the given subsystems of TPIE.</div></div>
<div class="ttc" id="anamespacetpie_html"><div class="ttname"><a href="namespacetpie.html">tpie</a></div><div class="ttdef"><b>Definition:</b> <a href="access__type_8h_source.html#l00026">access_type.h:26</a></div></div>
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
      <li class="footer">from TPIE 4739728 (<a href="//github.com/thomasmoelhave/tpie/tree/4739728">browse source</a>). Generated on Mon May 23 2022 23:38:36 by
<a href="http://www.doxygen.org/index.html">Doxygen</a> 1.8.17 </li>
    </ul>
  </div>
</body>
</html>
