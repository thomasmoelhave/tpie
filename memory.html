<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Memory manager</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="madalgo-doxygen.css" rel="stylesheet" type="text/css"/>
<link href="printstyle.css" rel="stylesheet" type="text/css" media="print" />
</head>
<body>
<div id="top">
<div id="titlearea">
<h1 id="projectname">TPIE</h1>
<span class="version"><a href="//github.com/thomasmoelhave/tpie/tree/4739728">4739728</a></span>
</div>
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('memory.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Memory manager </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>TPIE provides various external memory algorithms and data structures, most prominently an external memory priority queue (tpie::ami::priority_queue) and external memory sorting (<a class="el" href="namespacetpie.html#af7bd11f9ca8b3252ee4fd9d7f48c05a2">tpie::sort</a>). Although these algorithms work correctly with as little as a few megabytes of internal memory available, they will generally perform better the more internal memory they are assigned.</p>
<p>To use the external memory algorithms, you must initialize the memory subsystem using <a class="el" href="namespacetpie.html#a8086afebcb2cbd02fd7c41a1bfcf4925">tpie::tpie_init</a>. In order to specify the amount of internal memory to use, set the memory manager's limit as follows:</p>
<div class="fragment"><div class="line"><a class="code" href="namespacetpie.html#a81742e80132b2ad62ebe12b38b68d1c5">tpie::get_memory_manager</a>().<a class="code" href="classtpie_1_1resource__manager.html#a0dccdd44fc2b6d68bc3976056900cff9">set_limit</a>(megabytes*1024*1024);</div>
</div><!-- fragment --><p>See also <a class="el" href="classtpie_1_1memory__manager.html">tpie::memory_manager</a>.</p>
<p>When you use TPIE to implement your own external memory algorithms, you should use <a class="el" href="namespacetpie.html#a6dcdb20e07369a67907807d65824ca8b">tpie::tpie_new</a>, <a class="el" href="namespacetpie.html#a120017e9d9b014f158e145f3cbbd2c3a">tpie::tpie_new_array</a>, <a class="el" href="namespacetpie.html#aa3ddea8b15e5629039c62b1b5b26e7a9">tpie::tpie_delete</a> and <a class="el" href="namespacetpie.html#a5a669c4700cf16e1f9eee26254fdefe0">tpie::tpie_delete_array</a> instead of new and delete whenever you allocate and deallocate large amounts of memory. This way, you can design your algorithms to work with the memory manager in TPIE, and built-in TPIE algorithms will respect the amount of memory your implementation has already allocated.</p>
<p>TPIE provides an implementation of the auto pointer paradigm. See <a class="el" href="namespacetpie.html#abeaddf0be84ea6bc461a97d5ebe184bd">tpie::unique_ptr</a>.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span>* my_ints = tpie::tpie_new_array&lt;int&gt;(1024);</div>
<div class="line">std::fill(my_ints+0, my_ints+1024, 0);</div>
<div class="line"><a class="code" href="namespacetpie.html#a5a669c4700cf16e1f9eee26254fdefe0">tpie::tpie_delete_array</a>(my_ints, 1024);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="namespacetpie.html#abeaddf0be84ea6bc461a97d5ebe184bd">tpie::unique_ptr&lt;tpie::stack&lt;int&gt;</a> &gt; mystack(<a class="code" href="namespacetpie.html#a6dcdb20e07369a67907807d65824ca8b">tpie::tpie_new</a>&lt;<a class="code" href="classtpie_1_1stack.html">tpie::stack&lt;int&gt;</a> &gt;(<span class="stringliteral">&quot;stack.tpie&quot;</span>));</div>
<div class="line">mystack-&gt;push(42);</div>
<div class="line"><span class="comment">// when mystack goes out of scope, the stack object is deleted with tpie_delete.</span></div>
</div><!-- fragment --><p>You can use the memory_manager methods <a class="el" href="classtpie_1_1resource__manager.html#ae5b99e8266b72621ce1b7831f9dc6b91">tpie::memory_manager::used()</a>, <a class="el" href="classtpie_1_1resource__manager.html#a9fc95070beb5c44f757b6f31fea80d2b">tpie::memory_manager::available()</a> and <a class="el" href="classtpie_1_1resource__manager.html#a45fca4809196dcc2eb1ef30e98f0476a">tpie::memory_manager::limit()</a> to inspect the internal memory environment. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="aclasstpie_1_1resource__manager_html_a0dccdd44fc2b6d68bc3976056900cff9"><div class="ttname"><a href="classtpie_1_1resource__manager.html#a0dccdd44fc2b6d68bc3976056900cff9">tpie::resource_manager::set_limit</a></div><div class="ttdeci">void set_limit(size_t new_limit)</div><div class="ttdoc">Update the resource limit.</div></div>
<div class="ttc" id="anamespacetpie_html_a81742e80132b2ad62ebe12b38b68d1c5"><div class="ttname"><a href="namespacetpie.html#a81742e80132b2ad62ebe12b38b68d1c5">tpie::get_memory_manager</a></div><div class="ttdeci">TPIE_EXPORT memory_manager &amp; get_memory_manager()</div><div class="ttdoc">Return a reference to the memory manager.</div></div>
<div class="ttc" id="anamespacetpie_html_abeaddf0be84ea6bc461a97d5ebe184bd"><div class="ttname"><a href="namespacetpie.html#abeaddf0be84ea6bc461a97d5ebe184bd">tpie::unique_ptr</a></div><div class="ttdeci">std::unique_ptr&lt; T, tpie_deleter &gt; unique_ptr</div><div class="ttdoc">like std::unique_ptr, but delete the object with tpie_delete.</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00311">memory.h:311</a></div></div>
<div class="ttc" id="aclasstpie_1_1stack_html"><div class="ttname"><a href="classtpie_1_1stack.html">tpie::stack</a></div><div class="ttdoc">An implementation of an external-memory stack.</div><div class="ttdef"><b>Definition:</b> <a href="stack_8h_source.html#l00040">stack.h:40</a></div></div>
<div class="ttc" id="anamespacetpie_html_a6dcdb20e07369a67907807d65824ca8b"><div class="ttname"><a href="namespacetpie.html#a6dcdb20e07369a67907807d65824ca8b">tpie::tpie_new</a></div><div class="ttdeci">T * tpie_new(Args &amp;&amp;... args)</div><div class="ttdoc">Allocate an element of the type given as template parameter, and register its memory usage with TPIE.</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00269">memory.h:269</a></div></div>
<div class="ttc" id="anamespacetpie_html_a5a669c4700cf16e1f9eee26254fdefe0"><div class="ttname"><a href="namespacetpie.html#a5a669c4700cf16e1f9eee26254fdefe0">tpie::tpie_delete_array</a></div><div class="ttdeci">void tpie_delete_array(T *a, size_t size)</div><div class="ttdoc">Delete an array allocated with tpie_new_array.</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00293">memory.h:293</a></div></div>
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
      <li class="footer">from TPIE 4739728 (<a href="//github.com/thomasmoelhave/tpie/tree/4739728">browse source</a>). Generated on Mon May 23 2022 23:38:36 by
<a href="http://www.doxygen.org/index.html">Doxygen</a> 1.8.17 </li>
    </ul>
  </div>
</body>
</html>
